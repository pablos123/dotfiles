#!/bin/bash

declare -a wallpapers_array

cd "$HOME"/.wallpapers/ || exit 1

for wallpaper in *.jpg; do
    wallpapers_array=("${wallpapers_array[@]}" "$wallpaper")
done

items_count="${#wallpapers_array[@]}"

while true; do

    random_index=$((RANDOM % items_count - 1))

    next_wallpaper="${wallpapers_array[$random_index]}"

    hsetroot -cover "$next_wallpaper"

    sleep 300

done
